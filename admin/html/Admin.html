<!--
-------------------------------------------------------------------------------------------------
<Une ligne décrivant le nom du programme et ce qu’il fait>
Copyright © 2019 Ulysse GUYON Sacha WANONO Eléa THUILIER
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with this program. If not, see < https://www.gnu.org/licenses/ >.
-------------------------------------------------------------------------------------------------
-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AlgoLov - Admin</title>

    <link rel="stylesheet" href="../css/admin.css"/>
    <link rel="stylesheet" href="../css/alertMessage.css"/>

    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script type="text/javascript" src="../js/alertMessage.js" ></script>
    <script type="text/javascript" src="../js/Admin.js" ></script>
    
</head>
<body onload="fillPage();">
    <h1>Administration</h1>
    <div id="volet">
        <p>Recuperer un rapport</p>
        <div id="stats-div">
            <span><u><b>Quelques statistiques :</b></u></span>
            <p>Age moyen des répondants : {{ stats.ageMean || 0 }} ans</p>
            <table id="tab-stats">
                <thead>
                    <tr>
                        <td :colspan="statsColspan">Répondants</td>
                    </tr>
                </thead>
                <tbody v-for="descr in stats.desc">
                    <tr>
                        <td :colspan="statsColspan">{{ descr.name }}</td>
                    </tr>
                    <tr>
                        <td v-for="comb in descr.combin">{{ comb.name }}</td>
                    </tr>
                    <tr>
                        <td v-for="comb in descr.combin">{{ comb.value }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <a href="#volet" class="ouvrir" aria-hidden="true">Données existantes</a>
        <a href="#volet_clos" class="fermer" aria-hidden="false">Fermer</a>
    </div>

    <div id="alert-message">

    </div>

    <a id="buttonAddAdmin" class="bouton buttonAdmin" href="/api/admin/logout">
        Deconnexion
    </a>
    <a id="buttonAddAdmin" class="bouton buttonAdmin" href="./AdminRegister.html">
        Ajouter un Admin
    </a>
    <a id="buttonAddAdmin" class="bouton buttonAdmin" href="./AdminUpdate.html">
        Modifier le mot de passe
    </a>

    
    <ol>
        <li id="Qexist">
            <div id = QuestionList>
            
                <h3 id="TitreQexist">Liste question(s) existante(s)</h3>
                
                <p id="liste question"> q1 ... </p>
                <p id="liste question"> q1 ... </p>
                <p id="liste question"> q1 ... </p>
                <p id="liste question"> q1 ... </p>
                <p id="liste question"> q1 ... </p>
                <p id="liste question"> q1 ... </p>
                
            </div>

            <a id="modifierQuestionnaire" class="bouton" href="./ModifQuestion.html">
                Modifier le Questionnaire
            </a>
        </li>
        <li id="Fexist">
            <div id="FeaturesList">
                <h3> Documents de features utilisables</h3>
                <div>
                    <form id="formFeatureFiles" method="POST" action="/api/admin/selectFeatures" @submit.prevent="sendSelectFeatureDoc($event.target); stopFadeOut();">                      
                        <div v-for="doc in featureFiles" :class="'download-bar-container ' + doc.classAdd">
                            <a class="download-bar bouton" :href="doc.path">
                                <img src="../images/logo-excel.png" alt="logo excel" width="30px" height="30px" />
                                <div>{{ doc.name }}</div>
                            </a>
                            <input :id="'feature_file_' + doc.index" type="radio" name="select_feature_file" :value="doc.asString" :checked="doc.isUsed" v-model="featureSelect" required />
                        </div>
                    </form>
                </div>
            </div>
            
            <button id="selectFeatureDoc" class="bouton" type="submit" form="formFeatureFiles">
                Utiliser le document coché
            </button>

            <a id="modifierFeature" class="bouton" href="./ModifFeature.html">
                Ajouter un nouveau document
            </a>
        </li>

    </ol>
    <!--<a id="buttonPrevisualisation" class="bouton buttonPrevisualisation" href="./AdminUpdate.html">
        Prévisualisation
    </a>-->
</body>
</html>